<!DOCTYPE html>
<html
  lang="pt-br"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:p="http://primefaces.org/ui"
>
  <h:head>
    <title>Listagem de Pessoas</title>
  </h:head>
  <h:body>
    <h:form>
      <p:panel header="Pesquisa de  Pessoas">
        <div class="p-grid ui-fluid">
          <div class="p-col-12 p-md-4">
            <div class="ui-inputgroup">
              <p:inputText
                id="itNomePesquisa"
                value="#{pessoaListing.filtro}"
                placeholder="Informe um nome ..."
              />
              <p:commandButton
                value="Pesquisar"
                actionListener="#{pessoaListing.pesquisar}"
                process="@this itNomePesquisa"
                update="dataTable"
              />
            </div>
          </div>
        </div>
        <p:dataTable id="dataTable" value="#{pessoaListing.list}" var="obj">
          <p:column headerText="Nome">
            <p:outputLabel value="#{obj.nome} #{obj.sobrenome}" />
          </p:column>
          <p:column headerText="Email">
            <p:outputLabel value="#{obj.email}" />
          </p:column>
          <p:column headerText="Data de nascimento">
            <p:outputLabel value="#{obj.dataNascimento}" />
          </p:column>
          <p:column headerText="AÃ§Ã£o">
            <p:commandButton
              value="Selecionar"
              actionListener="#{pessoaListing.select(obj.id)}"
              process="@this"
              update="@form"
            />
          </p:column>
        </p:dataTable>
      </p:panel>
    </h:form>
  </h:body>
</html>
